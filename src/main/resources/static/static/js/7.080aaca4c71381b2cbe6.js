webpackJsonp([7],{1042:function(t,e,a){a(1554);var n=a(412)(a(1080),a(1534),"data-v-f0b5975c",null);t.exports=n.exports},1052:function(t,e,a){!function(e,a){t.exports=a()}(0,function(){return function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="/dist/",e(0)}([function(t,e,a){"use strict";t.exports=a(9)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var a=this[e];a[2]?t.push("@media "+a[2]+"{"+a[1]+"}"):t.push(a[1])}return t.join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),t.push(s))}},t}},function(t,e,a){function n(t,e){for(var a=0;a<t.length;a++){var n=t[a],r=u[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(l(n.parts[i],e))}else{for(var s=[],i=0;i<n.parts.length;i++)s.push(l(n.parts[i],e));u[n.id]={id:n.id,refs:1,parts:s}}}}function r(t){for(var e=[],a={},n=0;n<t.length;n++){var r=t[n],i=r[0],s=r[1],o=r[2],l=r[3],c={css:s,media:o,sourceMap:l};a[i]?a[i].parts.push(c):e.push(a[i]={id:i,parts:[c]})}return e}function i(t,e){var a=h(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?a.insertBefore(e,n.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function l(t,e){var a,n,r;if(e.singleton){var i=m++;a=g||(g=o(e)),n=c.bind(null,a,i,!1),r=c.bind(null,a,i,!0)}else a=o(e),n=d.bind(null,a),r=function(){s(a)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function c(t,e,a,n){var r=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var i=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function d(t,e){var a=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(a+="\n/*# sourceURL="+r.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var u={},p=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0,_=[];t.exports=function(t,e){e=e||{},void 0===e.singleton&&(e.singleton=f()),void 0===e.insertAt&&(e.insertAt="bottom");var a=r(t);return n(a,e),function(t){for(var i=[],s=0;s<a.length;s++){var o=a[s],l=u[o.id];l.refs--,i.push(l)}if(t){n(r(t),e)}for(var s=0;s<i.length;s++){var l=i[s];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}}};var v=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}()},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(6),i=n(r),s=a(5),o=n(s),l=a(10),c=n(l);e.default={components:{Pagination:c.default},props:{tableData:{type:Array,required:!0},language:{type:String,default:"es"},columns:{type:Array,required:!0},pagination:{type:Object,default:function(){return{total:0,to:0,from:0,per_page:15}}},actions:{type:Array,default:function(){return[]}}},data:function(){return{limits:[1,5,10,15,20],perpage:15,selected:null,indexSelected:-1,search:""}},computed:{translation:function(){return o.default.translations[this.language]},tableInfo:i.default.tableInfo},methods:{fetchFromObject:i.default.fetchFromObject,changePage:i.default.changePage,selectRow:i.default.selectRow,searching:function(){this.selected=null,this.indexSelected=-1,this.$emit("searching",this.search)}},watch:{perpage:function(){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:1})},tableData:function(){this.selected=null,this.indexSelected=-1}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["pages","translation"],computed:{items:function(){var t=[],e=this.pages.current_page-2,a=this.pages.current_page+2,n=5;e<=0&&(e=1,a=5),a>=this.pages.last_page&&(e=this.pages.last_page-4,a=this.pages.last_page),this.pages.last_page<5&&(n=this.pages.last_page),e<=0&&(e=1),0!=this.pages.last_page&&1!=this.pages.last_page||(n=1);for(var r=0;r<n;r++)t[r]=r+e;return t}},methods:{firstPage:function(){1!=this.pages.current_page&&this.change(1)},previous:function(){1!=this.pages.current_page&&this.change(--this.pages.current_page)},change:function(t){this.$emit("change",t)},next:function(){this.pages.current_page!=this.pages.last_page&&this.change(++this.pages.current_page)},lastPage:function(t){this.pages.current_page!=this.pages.last_page&&this.change(t)},changePageWithKeyBoard:function(t){"ArrowLeft"===t?this.previous():"ArrowRight"===t&&this.next()}},created:function(){var t=this;window.addEventListener("keyup",function(e){var a=e.key;return t.changePageWithKeyBoard(a)})}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={translations:{en:{table:{label_limits:"Show",label_search:"Search",placeholder_search:"Type to search..",records_not_found:"No records found"},pagination:{label_show:"Showing",label_to:"to",label_of:"of",label_entries:"entries",btn_first:"First",btn_last:"Latest"}},es:{table:{label_limits:"Mostrar",label_search:"Buscar",placeholder_search:"Buscar ..",records_not_found:"No se encontraron registros."},pagination:{label_show:"Mostrando",label_to:"a",label_of:"de",label_entries:"registros",btn_first:"Primero",btn_last:"Último"}},fr:{table:{label_limits:"Afficher",label_search:"Recherche",placeholder_search:"Recherche par mot-clé..",records_not_found:"Aucun enregistrements trouvés"},pagination:{label_show:"Affichage de",label_to:"à",label_of:"de",label_entries:"entrées",btn_first:"Première",btn_last:"Dernière"}},"zh-CN":{table:{label_limits:"显示",label_search:"搜索",placeholder_search:"输入搜索..",records_not_found:"记录未找到"},pagination:{label_show:"正在显示",label_to:"到",label_of:"总共",label_entries:"条目",btn_first:"首页",btn_last:"未页"}},ca:{table:{label_limits:"Mostrar",label_search:"Buscar",placeholder_search:"Buscar ..",records_not_found:"No s'han trobat registres."},pagination:{label_show:"Mostrant",label_to:"a",label_of:"de",label_entries:"registres",btn_first:"Primer",btn_last:"Últim"}}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fetchFromObject:function(t,e,a){if(void 0===t)return!1;var n=e.indexOf(".");return n>-1?this.fetchFromObject(t[e.substring(0,n)],e.substr(n+1)):void 0!==a?a(t[e]):t[e]},changePage:function(t){this.selected=null,this.indexSelected=-1,this.$emit("change",{perpage:this.perpage,page:t})},selectRow:function(t,e){this.indexSelected==e?(this.indexSelected=-1,this.selected=null):(this.indexSelected=e,this.selected={row:t,index:e})},tableInfo:function(){return this.translation.pagination.label_show+" "+(null==this.pagination.from?0:this.pagination.from)+" "+this.translation.pagination.label_to+" "+(null==this.pagination.to?0:this.pagination.to)+" "+this.translation.pagination.label_of+" "+this.pagination.total+" "+this.translation.pagination.label_entries}}},function(t,e,a){e=t.exports=a(1)(),e.push([t.id,"\n.vue-datasource .Vue__panel-body[data-v-0747af48] {\n  padding: 0;\n}\n.vue-datasource .Vue__panel-body .Vue__table[data-v-0747af48] {\n    margin-bottom: 0;\n}\n.vue-datasource .Vue__panel-footer .Vue__datasource_actions[data-v-0747af48] {\n  margin: 10px 0;\n}\n",""])},function(t,e,a){e=t.exports=a(1)(),e.push([t.id,"\n.Vue__pagination nav .pagination[data-v-741f57a8] {\n  margin: 10px 0 !important;\n}\n",""])},function(t,e,a){var n,r;a(13),n=a(3);var i=a(11);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._scopeId="data-v-0747af48",t.exports=n},function(t,e,a){var n,r;a(14),n=a(4);var i=a(12);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,r._scopeId="data-v-741f57a8",t.exports=n},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-datasource"},[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-heading"},[a("div",{staticClass:"form-inline"},[a("div",{staticClass:"form-group pull-left"},[a("label",{staticClass:"control-label pr2"},[t._v(t._s(t.translation.table.label_limits))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.perpage,expression:"perpage"}],staticClass:"form-control",attrs:{number:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.perpage=e.target.multiple?a:a[0]}}},t._l(t.limits,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"form-group pull-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.translation.table.placeholder_search},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.searching(e)}}},[t._v(t._s(t.translation.table.label_search)+"\n          ")])]),t._v(" "),a("div",{staticClass:"clearfix"})])]),t._v(" "),a("div",{staticClass:"panel-body Vue__panel-body"},[a("table",{staticClass:"table table-striped Vue__table"},[a("thead",[a("tr",t._l(t.columns,function(e){return a("th",[t._v(t._s(e.name))])}))]),t._v(" "),a("tbody",[0==t.pagination.total?a("tr",[a("td",{attrs:{colspan:t.columns.length}},[t._v(t._s(t.translation.table.records_not_found))])]):t._l(t.tableData,function(e,n){return a("tr",{class:{success:n==t.indexSelected},on:{click:function(a){a.preventDefault(),t.selectRow(e,n)}}},t._l(t.columns,function(n){return a("td",{domProps:{innerHTML:t._s(t.fetchFromObject(e,n.key,n.render))}})}))}),t._v(" "),a("tr",[a("td",{staticClass:"text-center",attrs:{colspan:t.columns.length}},[t._v("\n            "+t._s(t.tableInfo)+"\n          ")])])],2)])]),t._v(" "),a("div",{staticClass:"panel-footer Vue__panel-footer"},[a("div",{staticClass:"pull-left"},[a("div",{staticClass:"btn-group Vue__datasource_actions"},t._l(t.actions,function(e){return a("button",{staticClass:"btn btn-default",class:e.class,attrs:{type:"button"},on:{click:function(a){e.event(a,t.selected)}}},[e.icon?a("i",{staticClass:"pr1",class:e.icon}):t._e(),t._v("\n            "+t._s(e.text)+"\n          ")])}))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("pagination",{attrs:{pages:t.pagination,translation:t.translation.pagination},on:{change:t.changePage}})],1),t._v(" "),a("div",{staticClass:"clearfix"})])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Vue__pagination"},[a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[a("li",{class:1==t.pages.current_page?"disabled":""},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.firstPage(e)}}},[t._v(t._s(t.translation.btn_first))])]),t._v(" "),a("li",{class:1==t.pages.current_page?"disabled":""},[a("a",{attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){e.preventDefault(),t.previous(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.items,function(e){return a("li",{class:t.pages.current_page==e?"active":""},[a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.change(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{class:t.pages.current_page==t.pages.last_page?"disabled":""},[a("a",{attrs:{href:"#","aria-label":"Next"},on:{click:function(e){e.preventDefault(),t.next(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])]),t._v(" "),a("li",{class:t.pages.current_page==t.pages.last_page?"disabled":""},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.lastPage(t.pages.last_page)}}},[t._v(t._s(t.translation.btn_last))])])],2)])])},staticRenderFns:[]}},function(t,e,a){var n=a(7);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,a){var n=a(8);"string"==typeof n&&(n=[[t.id,n,""]]);a(2)(n,{});n.locals&&(t.exports=n.locals)}])})},1080:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(181),r=a.n(n),i=a(413),s=a.n(i),o=a(1052);a.n(o);e.default={data:function(){return{endday:new Date,startday:new Date,searchday:"",formatstartday:"",totolMoney:0,tableData:[],membertotolMoney:0,memberBar:0,memberSkin:0,memberNail:0,bar:0,skin:0,nail:0}},mounted:function(){this.findbill()},methods:{drawLine:function(){this.$echarts.init(document.getElementById("myChart")).setOption({title:{text:"总收入",subtext:"",x:"center",y:50,textStyle:{color:"rgb(248, 128, 80)",padding:[500,10],fontStyle:"oblique",fontWeight:"400",fontFamily:"sans-serif",fontSize:"24"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.membertotolMoney,name:"会员"},{value:this.totolMoney,name:"散客"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},findbill:function(){var t=this,e=!1;if(this.startday){e=!0;var a=new Date(this.startday);this.formatstartday=""+a.getFullYear()+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+a.getDate()}if(this.endday&&(e=!0,a=new Date(this.endday),this.formatendday=""+a.getFullYear()+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+a.getDate()),e){var n=s.a.get("/api/bill/findbill?startday="+this.formatstartday+"&endday="+this.formatendday).then(function(e){return t.totolMoney=e.data}),i=s.a.get("/api/bill/findmemberbill?startday="+this.formatstartday+"&endday="+this.formatendday).then(function(e){return t.membertotolMoney=e.data});r.a.all([n,i]).then(function(){t.totolMoney||(t.totolMoney=0),t.membertotolMoney||(t.membertotolMoney=0),t.drawLine()});var o=s.a.get("/api/commmonuser/findMoneyByType?startday="+this.formatstartday+"&endday="+this.formatendday).then(function(e){e.data.forEach(function(e){"美发"===e.cost_type&&(t.bar=e.count),"美容"===e.cost_type&&(t.skin=e.count),"美甲"===e.cost_type&&(t.nail=e.count)}),t.drawLineType()}),l=s.a.get("/api/rechage/findMoneyByType?startday="+this.formatstartday+"&endday="+this.formatendday).then(function(e){e.data.forEach(function(e){"美发"===e.member_type&&(t.memberBar=e.count),"美容"===e.member_type&&(t.memberSkin=e.count),"美甲"===e.member_type&&(t.memberNail=e.count)}),t.drawLineMemrber()});r.a.all([l,o]).then(function(){t.drawLineTotal()})}},drawLineType:function(){this.$echarts.init(document.getElementById("myChart1")).setOption({title:{text:"普通收入"},tooltip:{},xAxis:{type:"category",data:["美容","美发","美甲"]},yAxis:{type:"value"},series:[{name:"金额",type:"bar",data:[this.bar,this.skin,this.nail]}]})},drawLineMemrber:function(){this.$echarts.init(document.getElementById("myChart2")).setOption({title:{text:"会员收入"},tooltip:{},xAxis:{type:"category",data:["美容","美发","美甲"]},yAxis:{type:"value"},series:[{name:"金额",type:"bar",data:[this.memberBar,this.memberSkin,this.memberNail]}]})},drawLineTotal:function(){this.$echarts.init(document.getElementById("myChart4")).setOption({title:{text:"总收入"},tooltip:{},xAxis:{type:"category",data:["美容","美发","美甲"]},yAxis:{type:"value"},series:[{name:"金额",type:"bar",data:[this.memberBar+this.bar,this.memberSkin+this.skin,this.memberNail+this.nail]}]})}}}},1205:function(t,e,a){e=t.exports=a(180)(!1),e.push([t.i,".income[data-v-f0b5975c]{margin-top:10px;color:#97a8be}.income-conut[data-v-f0b5975c]{color:red}#myChart[data-v-f0b5975c]{margin-top:20px;float:left}#myChart1[data-v-f0b5975c]{margin-top:20px;float:left;margin-left:50px}#myChart2[data-v-f0b5975c]{margin-top:20px;float:left;margin-left:250px}#myChart4[data-v-f0b5975c]{margin-top:80px;float:right;margin-right:150px}",""])},1534:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v(" 账单")]),t._v(" "),a("el-breadcrumb-item",[t._v("账单统计")])],1)],1),t._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("请选择时间: ")]),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择开始日期"},on:{change:function(e){return t.findbill()}},model:{value:t.startday,callback:function(e){t.startday=e},expression:"startday"}}),t._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择结束日期"},on:{change:function(e){return t.findbill()}},model:{value:t.endday,callback:function(e){t.endday=e},expression:"endday"}})],1),t._v(" "),a("div",{staticClass:"income"},[a("span",[t._v("总收入："),a("span",{staticClass:"income-conut"},[t._v(t._s(t.membertotolMoney+t.totolMoney))])]),t._v("      \n                 \n        "),a("span",[t._v("会员总收入："),a("span",{staticClass:"income-conut"},[t._v(t._s(t.membertotolMoney))])]),t._v("      \n                 \n        "),a("span",[t._v("散客总收入："),a("span",{staticClass:"income-conut"},[t._v(t._s(t.totolMoney))])])]),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",[a("div",{style:{width:"400px",height:"400px"},attrs:{id:"myChart"}}),t._v(" "),a("div",{style:{width:"300px",height:"300px"},attrs:{id:"myChart4"}}),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{style:{width:"300px",height:"300px"},attrs:{id:"myChart1"}}),t._v(" "),a("div",{style:{width:"300px",height:"300px"},attrs:{id:"myChart2"}})])])},staticRenderFns:[]}},1554:function(t,e,a){var n=a(1205);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(411)("4d81e010",n,!0)}});